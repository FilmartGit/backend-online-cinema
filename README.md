## Online Cinema Backend

Бэкенд-часть онлайн-кинотеатра, реализованная с использованием NestJS, TypeScript, MongoDB (через Mongoose) и JWT-авторизации.
Проект предоставляет API для управления фильмами, актёрами, жанрами, пользователями, избранным и рейтингом, а также поддерживает роль администратора.

## Технологии

NestJS — прогрессивный фреймворк для построения эффективных серверных приложений
TypeScript — строгая типизация и удобство разработки
MongoDB + Mongoose — документоориентированная база данных и ODM
JWT (Access + Refresh tokens) — безопасная авторизация пользователей
Class-validator / DTOs — валидация входящих данных
Dotenv — управление переменными окружения
Yarn - пакетный менеджер

## Основные сущности
- Фильм (Movie)
Постер, название, описание, страна, количество просмотров, длительность, жанры, актёры, рейтинг, slug и др.
- Актёр (Actor)
Имя, фото
- Жанр (Genre)
Название, описание, slug.
- Пользователь (User)
Email, хэш пароля, роль (user / admin), избранное, оценки фильмов.
- Рейтинг
Возможность ставить фильму оценку от 1 до 5.

## Авторизация
Регистрация и вход через email/пароль.
Выдача access token (краткосрочный) и refresh token (долгосрочный).
Обновление access token по refresh token.
Защита маршрутов: только авторизованные пользователи или администраторы.

## Установка и запуск

1. Клонируй репозиторий:

``` bash
git clone <твой-репозиторий>
cd online-cinema-backend
```

2. Установи зависимости через Yarn

``` bash
yarn install
```

3. Создай .env файл

``` bash
PORT: порт для запуска проекта (4200 если не указывать)
MONGO_URI: адрес подключения к MongoDb
JWT_SECRET: ваш секретный код
TOKEN: токен вашего бота в Telegram
CHAT_ID: ID вашего телеграм канала (-100...)
URL_MOVIE: путь на фронтенд, к фильмам. Используется для ссылок в телеграм
--- https://movie.ru/movie/ 
```

4. Запусти в режиме разработки

``` bash
yarn start:dev
```

API будет доступно на http://localhost:PORT.

## Структура проекта

``` bash
src/
├── auth/          # Авторизация и JWT
├── user/          # Модель пользователя, избранное 
├── rating/        # Модель рейтинга фильмов 
├── movie/         # Фильмы, контроллеры, сервисы
├── actor/         # Актёры
├── genre/         # Жанры
├── file/          # Загрузка постеров, баннеров, фото актеров
├── telegram/      # Рассылка в телеграм канал
└── app.module.ts  # Корневой модуль
```


## Планы

Дальнейшее развитие не планируется.

## Контакты для связи

Email: ivan.filmart@yandex.ru 
Telegram: @xFilmart 
